<div class="container">
    <form>
        <div class="form-group">
            <label>Email</label>
            <input [(ngModel)]="person.email" type="email" required class="form-control"
                [ngModelOptions]="{standalone: true}">
        </div>
        <div class="form-group">
            <label>Nome</label>
            <input [(ngModel)]="person.name" type="text" class="form-control" [ngModelOptions]="{standalone: true}">
        </div>

        <button *ngIf="!edit" type="button" class="btn btn-primary btn-block" (click)="submitPerson()">Enviar</button>

        <div *ngIf="edit">
            <button type="button" class="btn btn-primary btn-block" (click)="cancelEdition()">Cancelar</button>
            <button type="button" class="btn btn-danger btn-block" (click)="saveEdition()">Salvar Alteração</button>
        </div>
    </form>
    <br><br>

    <div *ngIf="persons.length < 4" class="alert alert-danger" role="alert">
        Você precisa de pelo menos 4 amigos para fazer o sorteio!
    </div>
    <div *ngIf="isDraw" class="alert alert-success" role="alert">
        O sorterio foi realizando com sucesso!, verifique sue email, spam e promoções !
    </div>

    <div *ngIf="!edit" class="container  bg-light">
        <div *ngFor="let person of persons" class="row">
            <div class="col-md col-sm">
                {{person.name}}
            </div>
            <div class="col-md col-sm">
                {{person.email}}
            </div>
            <div class="col-md col-sm">
                <button type="button" class="btn btn-block btn-info" (click)="loadData(person)">Editar</button>
            </div>
            <div class="col-md col-sm">
                <button type="button" class="btn btn-block btn-danger" (click)="removePerson(person)">Remover</button>
            </div>
        </div>
    </div>
    <br><br><br>

    <button *ngIf="!edit" type="button" class="btn btn-primary btn-block" (click)="draw()">Fazer
        Sorteio</button>
</div>